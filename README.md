- 进入 /myapp
- 安装
```
  npm install
```
- 启动数据库
```
  mongod --dbpath db
```
- 启动服务器

```
  npm start
```


- 事先已经添加了
  - 管理员(id : "0")
  - 老师(id : "100")
  - 助教(id : "1000")
  - 学生1(id : "15331132")
  - 学生2(id : "15331133")
密码都是: "qqqqqq"
---

- 操作请遵循以下顺序:
  - 建立一个班级
  - 建立学生和助理用户
  - 为班级分组(如此会自动打乱顺序将学生分到不同的组里)
  - 发布作业
  - 分配作业评论

因为代码没有严格地对此顺序进行鲁棒性编程， 所以建议不要进行颠倒顺序的操作(比如还没有建立班级的时候就建立一个属于不存在班级的用户)

---


由于时间所限，实现了部分功能:
- 学生
  - 查看作业内容，提交作业，查看他人作业，评论作业，查看作业分数， 查看个人详情
- 助理
  - 查看作业内容， 查看他人作业，评论作业，查看作业分数， 查看个人详情
- 老师
  - 建立班级， 给学生分组， 布置作业， 查看个人详情
- 管理员
  - 新建用户，分配评论， 分组， 建立班级， 查看个人详情

没有的功能（包含不仅限于）:
删除用户， 进行排名（查看排名，等等...）



---

用到的技术:
- 文件上传
  - 客户端: fine-uploader  
  - 服务器：busboy  
- UI框架
  - bootstrap
  - fontawesome
  - topcoat  

- 密码加密存储
- 注册时的用户输入校验
  - 由于需要校验的东西太多，而且前端后端都要校验，太麻烦，只做了用户信息的输入校验， 用于校验的文件在 "/public/javascripts/userValidator.js"  


---

设计思路:  
-  路由以用户身份划分为
   - /user
   - /administor
   - /teacher
   - /assistant
   - /student
   - 每个路由下按需求添加
     - /index (主页)
     - /homework/:homeworkName (作业详情)
这样的好处是各个身份的处理相互不干扰。  
比如， 当要呈现主页时， 相比于让所有不同身份的用户都经过同一个/index， 再判断各自身份呈现相应的主页，  让他们从各自的路由进入/index更加简洁(比如 学生身份进入/student/index， 老师身份进入/teacher/index)
- 对页面重复的部分进行合并
  - 实现学生和助理评论他人作业这个功能时，用到的界面其实是一样的(都需要有下载预览图和代码的按钮， 以及评论框， 修改评论的按键)， 不必在各自的页面都协商重复的代码。便可将这段代码分离出来，利用jade的 include功能让各自页面引用。
- 没有实现完成全部功能的原因也包括：在做的过程中我觉得有些功能不难实现，但也耗精力， 比如进行排名。
- 有很多逻辑考虑到了，但实在懒得添加。比如用正则表达式判断输入检验(只做了用户注册时的检验)， 前后端同时都要检验。
- 尽管如此，我还是尽力去实现该有的逻辑。
比如
  - 作业只能在'started'状态下才能提交、修改评论、下载他人代码。
  - 只有当作业不是'unstarted'时才可以查看作业详情
  - （以上两点前后端都进行了检测）



